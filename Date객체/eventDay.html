<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        body > div {
            width: 80%;
            max-width: 1000px;
            border-radius: 20px;
            border: 3px solid pink;
            overflow: hidden;
        }
        #title {
            padding: 30px;
            color: #fff;
            background: pink;
        }
        #inputs {
            text-align: center;
            padding: 20px;
        }
        input {
            outline: none;
            border: none;
            border-bottom: 1px dotted pink;
            margin: 0 10px;
            line-height: 40px;
        }
        #buttons {
            text-align: center;
            padding: 20px;
        }
        button {
            border-radius: 5px;
            background: pink;
            padding: 10px 40px;
            margin: 0 6px;
            outline: none;
            border: none;
        }
        #text {
            padding: 40px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div>
        <div id="title">
            <h2>ê¸°ë…ì¼</h2>
            <p>ì‚¬ê·„ë‚ ì§œë¥¼ ì…ë ¥í•˜ì„¸ìš”~</p>
        </div>
        <div id="inputs">
            <div>
                <input type="text" id="year" name="year">
                <input type="text" id="month" name="month">
                <input type="text" id="date" name="date">
            </div>
            <div id="buttons">
                <!-- êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì»¤ìŠ¤í…€ì†ì„± ì¶”ê°€í•´ì¤€ê±° // ê°ê° í´ë¦­ì´ë²¤íŠ¸ ì¤˜ë„ ë¨!! -->
                <button data-key="date" data-value="50">50ì¼ì€?</button>
                <button data-key="date" data-value="100">100ì¼ì€?</button>
                <button data-key="date" data-value="today">ì˜¤ëŠ˜ì€ ëª‡ì¼ì§¸?</button>
            </div>
        </div>
        <div id="text"></div>
    </div>
    <script>
        // ğŸ–¤ì–´ë–»ê²Œ í•  ì§€ ì •ë¦¬ë¥¼ ë¨¼ì € í•´ì•¼í•¨ğŸ–¤
        // ì¸í’‹ì— ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ì„ ë°›ëŠ”ë‹¤
        // ë…„, ì›”, ì¼
        // ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê²°ê³¼ë¥¼ textì— ë³´ì—¬ì¤€ë‹¤.
        // - ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ, ë…„, ì›”, ì¼ì´ ë¹ˆì¹¸ì´ë©´
        // ë‚ ì§œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” - ê²½ê³ ì°½ì—!
        // - ë…„, ì›”, ì¼ì´ ë¹ˆì¹¸ì´ ì•„ë‹ˆë©´ ìˆ«ìê°€ ë§ëŠ”ì§€ í™•ì¸
        // ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ìê°€ ìˆì„ ê²½ìš°
        // ìˆ«ìë§Œ ì…ë ¥í•´ì£¼ì„¸ìš” - ê²½ê³ ì°½ì—!
        // - ì…ë ¥ëœ ê°’ìœ¼ë¡œ ë°ì´íŠ¸ ê°ì²´ë¥¼ ìƒì„±         ->ë°ì´íŠ¸ ê°ì²´ë¥¼ ìƒì„±í•´ì•¼ ë‚ ì§œ ê³„ì‚° ê°€ëŠ¥
        // - 1. 50ì¼ì€ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•ŒëŠ”
        // - ì…ë ¥ëœ ê°’ìœ¼ë¡œ ë§Œë“  ë°ì´íŠ¸ ê°ì²´ì—ì„œ 50ì¼ ë”í•´ì§„ ë°ì´íŠ¸ ê°ì²´ë¥¼ ìƒì„±
        // - 2. 100ì¼ì€ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•ŒëŠ”
        // - ì…ë ¥ëœ ê°’ìœ¼ë¡œ ë§Œë“  ë°ì´íŠ¸ ê°ì²´ì—ì„œ 100ì¼ ë”í•´ì§„ ë°ì´íŠ¸ ê°ì²´ë¥¼ ìƒì„±
        // - 3. ì˜¤ëŠ˜ì€ ëª‡ì¼ì§¸ë¥¼ í´ë¦­í•˜ë©´
        // í˜„ì¬ë‚ ì§œì˜ ê°ì²´ë¥¼ ìƒì„±
        // í˜„ì¬ë‚ ì§œ ê°ì²´ì˜ ë°€ë¦¬ì´ˆë¥¼ ë°˜í™˜í•˜ì—¬
        // ì…ë ¥í•œ ë°ì´íŠ¸ê°ì²´ì˜ ë°€ë¦¬ì´ˆë¥¼ ë¹¼ì¤Œ
        // -> ê·¸ ê°’ì„ í•˜ë£¨ë¡œ ë³€í™˜(ì¼ìë‹¨ìœ„ë¡œ ë³€í™˜)
        // ì‚¬ê·„ì§€ ëª‡ì¼ ë˜ì—ˆìŠµë‹ˆë‹¤ë¥¼ í™”ë©´ì— ì¶œë ¥

        let yearInput = document.querySelector('#year');
        let monthInput = document.querySelector('#month');
        let dateInput = document.querySelector('#date');
        let btns = document.querySelector('#buttons');
        let text = document.querySelector('#text');
        btns.addEventListener('click',function(e){
            let getDate = getInputValue();
            // console.log(e.target);      
            //í´ë¦­í•œ ë…¸ë“œì˜ datasetê°ì²´ì˜ valueí‚¤ì— ì ‘ê·¼    (data-value="50"  / data-value="100" / data-value="today" ê°€ ë‹´ê¸°ëŠ” ê±°!!)
            let value = e.target.dataset.value;
            // console.log(value);                 // ë³€ìˆ˜ value ì˜ë‚˜ì˜¤ëŠ” ì§€ ë³´ê¸°
            console.log(getDate);
            //ì…ë ¥í•œ ë‚ ì§œì˜ ë°ì´íŠ¸ ê°ì²´ë¥¼ ìƒì„±
            let firstDate = new Date(getDate.year, getDate.month, getDate.date);        //monthëŠ” ë°‘ì— ê°ì²´ ë³€ìˆ˜ì— -1ì„ ë¯¸ë¦¬í•´ì¤Œ
            console.log(firstDate.getFullYear(), firstDate.getMonth()+1, firstDate.getDate());  //getMonth() ëŠ” í•­ìƒ +1 í•´ì¤˜ì•¼í•¨!!ğŸ–¤
            //3. ì˜¤ëŠ˜ ë²„íŠ¼ì„ í´ë¦­í–ˆë‹¤ë©´
            if(value==='today'){
                let toDay = new Date();
                //ì…ë ¥í•œ ë°ì´íŠ¸ê°ì²´ë¥¼ ë°€ë¦¬ì´ˆë¡œ ë°›ì•„ì„œ startTimeí• ë‹¹
                let startTime = firstDate.getTime();
                //í˜„ì¬ì‹œê°„ì„ ë°€ë¦¬ì´ˆë¡œ ë°›ì•„ì„œ todayTimeì— í• ë‹¹
                let todayTime = toDay.getTime();
                let re = Math.floor((todayTime-startTime)/(1000*60*60*24));
                text.innerHTML = `ìš°ë¦¬ê°€ ë§Œë‚œì§€ ${re}ì¼ ì…ë‹ˆë‹¤.`;
            //1. 2. 50ì¼ê³¼ 100ì¼ ë²„íŠ¼ í´ë¦­ì‹œ -> valueê°’ ì´ìš©í•´ì„œ ê°™ì´ ë§Œë“¤ì–´ì£¼ê¸°
            }else {
                firstDate.setDate(firstDate.getDate()+Number(value));
                text.innerHTML = `${value}ì¼ì€ ${firstDate.getFullYear()}ë…„ ${firstDate.getMonth()+1}ì›” ${firstDate.getDate()}ì¼ ì…ë‹ˆë‹¤.`;
            }

            // ì´ë ‡ê²Œ ë‚˜ëˆ ì„œ í•´ë„ ë¨!
            // //1. 50ì¼ ë²„íŠ¼ì„ í´ë¦­
            // }else if(value==='50'){
            //     firstDate.setDate(firstDate.getDate()+50);
            //     text.innerHTML = `50ì¼ì€ ${firstDate.getFullYear()}ë…„ ${firstDate.getMonth()+1}ì›” ${firstDate.getDate()}ì¼ ì…ë‹ˆë‹¤.`;
            // //2. 100ì¼ ë²„íŠ¼ì„ í´ë¦­
            // }else {
            //     firstDate.setDate(firstDate.getDate()+100);
            //     text.innerHTML = `100ì¼ì€ ${firstDate.getFullYear()}ë…„ ${firstDate.getMonth()+1}ì›” ${firstDate.getDate()}ì¼ ì…ë‹ˆë‹¤.`;
            // }
        })
        function getInputValue(){
            //inputì˜ ê°’ì´ ë¹ˆì¹¸ì´ë©´ return
            if(!yearInput.value || !monthInput.value || !dateInput.value){        
                // ifì— ë„£ì–´ì£¼ë©´ booleanì´ ë˜ëŠ”ë° 
                // yearInputì˜ ê°’ì´ë‚˜ monthInputì˜ ê°’ì´ë‚˜ dateInputì˜ ê°’ì´ !(ì—†ì„ë•Œ) (orì„!!!)
                console.log(yearInput.value,monthInput.value,dateInput.value);      // ê°’ì´ ì˜ ë‚˜ì˜¤ëŠ”ì§€ ì½˜ì†”ì— ì¶œë ¥
                alert('ë‚ ì§œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”');
                return
            }   
            if(isNaN(Number(yearInput.value))
            || isNaN(Number(monthInput.value))
            || isNaN(Number(dateInput.value))) {
                alert('ìˆ«ìë§Œ ì…ë ¥í•´ ì£¼ì„¸ìš”');
                return;
            }
            const firstDay = {
                year: Number(yearInput.value),
                month: Number(monthInput.value)-1,     // ì—¬ê¸°ì— -1ì„ í•´ì¤Œ!!(ìœ„ì— í•´ì£¼ë©´ ë³µì¡í•´ì„œ)
                date: Number(dateInput.value),
            }
            return firstDay;
        }
    </script>
</body>
</html>